API для сервиса **Counter Water**

**Описание**
API позволяет взаимодействовать с информацие о показаниях счетчиков водоснабжения в квартирах МКД, а также производить расчет стоимости оплату полученных услуг.

В базе данных хранятся следующие модели: МКД, Квартира, Счетчик, Тариф.

Конечные точки:

- GET apartment-building/{id} - получение информации о МКД с информацией о прнадлежащих ему квартирах и их счетчиках. Возможна фильтрафия и сортировка данных.

- POST create/apartment-building - создание объекта МКД в базе данных

- POST create/flat - создание объекта квартиры в базе данных

- POST create/water-counter - создание объекта счетчика в квартире

- POST add-meter-reading - позволяет передать показания счетчиков


Конечные точки для взаимодействия с калькулятором расчета стоимости услуг

- POST calculate-payment -запуск калькулятора для определенного месяца

- GET calculate-progress/{apartment_buiding_id} - получение информации о прогрессе расчета 

Реализован интерфейс админ-панели Django.


Для удобства использование API предусмотрена страница документации:

http://127.0.0.1:8000/api/v1/schema/swagger-ui/#/


#### Стек технологий:
- Python3.10
- PostgreSQL - СУБД
- Django
- Django REST API - API
- Redis - кеширование прогресса  расчета 
- Celery - ассинхронное выполнение калькулятора расчета


#### Запуск приложения

- Копируем код приложения в Вашу директорию.

`git clone https://github.com/KIchkinevVladislav/counter_water_test`

- Запускаем контейнеры:

`docker compose up -d`

Приложение готово к тестированию 
(применены миграции, 
база данных заполненна фикстурами, 
созданна запись супер пользователя (логин: admin, пароль: password))

http://127.0.0.1:8000/api/v1/schema/swagger-ui/#/

#### Запуск тестов

`docker compose exec celery_worker python manage.py test`

# Тесты будут дополнены....
